{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\React\\\\bookStore-project\\\\src\\\\Components\\\\Books\\\\AvailableBooks.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport classes from './AvailableBooks.module.css';\nimport Card from '../UI/Card';\nimport BookItem from './BookItem';\n\n// const Books = [\n//     {\n//       id: 'b1',\n//       name: 'Book1',\n//       description: 'Very interesting and shoking story! ',\n//       price: 25,\n//     },\n//     {\n//       id: 'b2',\n//       name: 'Book2',\n//       description: 'A real story of life of the Queen!',\n//       price: 30,\n//     },\n//     {\n//       id: 'b3',\n//       name: 'Book3',\n//       description: 'Unforgettable adventures of three friends and the dog!',\n//       price: 32,\n//     },\n//     {\n//       id: 'b4',\n//       name: 'Book4',\n//       description: 'If you want to learn how to cook, you definately should buy it!',\n//       price: 28,\n//     },\n//   ];\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AvailableBooks = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchBooksHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('http://localhost:5000/books');\n      console.log(response);\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n      const data = await response.json();\n      console.log(data);\n      const transformedBooks = data.map(bookData => {\n        return {\n          id: bookData._id,\n          name: bookData.name,\n          description: bookData.description,\n          price: bookData.price\n        };\n      });\n      console.log(transformedBooks);\n      setBooks(transformedBooks);\n      // setBooks(data);\n    } catch (error) {\n      setError(error.message);\n    }\n    setIsLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchBooksHandler();\n  }, [fetchBooksHandler]);\n  let content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Found no books.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 17\n  }, this);\n  if (books.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.books,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: books.map(book => /*#__PURE__*/_jsxDEV(BookItem, {\n            name: book.name,\n            description: book.description,\n            price: book.price,\n            id: book.id\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 41\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  }\n  if (error) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }, this);\n  }\n  if (isLoading) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.books,\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 7\n  }, this);\n};\n_s(AvailableBooks, \"g/Z0JFzid6DJphXuNS4JLfZ9znw=\");\n_c = AvailableBooks;\nexport default AvailableBooks;\nvar _c;\n$RefreshReg$(_c, \"AvailableBooks\");","map":{"version":3,"names":["useState","useEffect","useCallback","classes","Card","BookItem","jsxDEV","_jsxDEV","AvailableBooks","_s","books","setBooks","isLoading","setIsLoading","error","setError","fetchBooksHandler","response","fetch","console","log","ok","Error","data","json","transformedBooks","map","bookData","id","_id","name","description","price","message","content","children","fileName","_jsxFileName","lineNumber","columnNumber","length","className","book","_c","$RefreshReg$"],"sources":["D:/Web/React/bookStore-project/src/Components/Books/AvailableBooks.js"],"sourcesContent":["import { useState,useEffect,useCallback } from 'react';\r\nimport classes from './AvailableBooks.module.css'\r\nimport Card from '../UI/Card';\r\nimport BookItem from './BookItem';\r\n\r\n// const Books = [\r\n//     {\r\n//       id: 'b1',\r\n//       name: 'Book1',\r\n//       description: 'Very interesting and shoking story! ',\r\n//       price: 25,\r\n//     },\r\n//     {\r\n//       id: 'b2',\r\n//       name: 'Book2',\r\n//       description: 'A real story of life of the Queen!',\r\n//       price: 30,\r\n//     },\r\n//     {\r\n//       id: 'b3',\r\n//       name: 'Book3',\r\n//       description: 'Unforgettable adventures of three friends and the dog!',\r\n//       price: 32,\r\n//     },\r\n//     {\r\n//       id: 'b4',\r\n//       name: 'Book4',\r\n//       description: 'If you want to learn how to cook, you definately should buy it!',\r\n//       price: 28,\r\n//     },\r\n//   ];\r\n\r\n\r\n\r\nconst AvailableBooks = ()=>{\r\n  const [books, setBooks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchBooksHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/books');\r\n      console.log(response);\r\n      if (!response.ok) {\r\n        throw new Error('Something went wrong!');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(data);\r\n\r\n      const transformedBooks = data.map((bookData) => {\r\n        return {\r\n          id: bookData._id,\r\n          name: bookData.name,\r\n          description: bookData.description,\r\n          price: bookData.price\r\n        };\r\n      });\r\n      console.log(transformedBooks);\r\n      setBooks(transformedBooks);\r\n      // setBooks(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchBooksHandler();\r\n  }, [fetchBooksHandler]);\r\n\r\n  let content = <p>Found no books.</p>;\r\n\r\n  if (books.length > 0) {\r\n    content = \r\n    <section className={classes.books}>\r\n            <Card>\r\n                <ul>\r\n                    {books.map( book => <BookItem key ={book.id} name = {book.name} \r\n                    description = {book.description} price = {book.price} id = {book.id}/>)}\r\n                </ul>\r\n            </Card>\r\n     </section>;\r\n  }\r\n\r\n  if (error) {\r\n    content = <p>{error}</p>;\r\n  }\r\n\r\n  if (isLoading) {\r\n    content = <p>Loading...</p>;\r\n  }\r\n\r\n\r\n    return(\r\n      <section className={classes.books}>{content}</section>\r\n    )\r\n\r\n}\r\n\r\nexport default AvailableBooks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}